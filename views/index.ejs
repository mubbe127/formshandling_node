<!-- views/index.ejs -->
<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="header"><h1><%= title %></h1></header>
    <main>
      <%- include('search') %>
      <% if (locals.search) {%>
      <div class="search userListContainer">
        <% search.forEach(user=> { %>
        <ul>
          <h3><span>USER-ID:</span> <%= user.id %></h3>
          <li><span>Name:</span> <%= user.firstName %> <%= user.lastName %></li>
          <li><span>Email:</span> <%= user.email %></li>
          <li><span>Age:</span> <%= user.age %></li>
          <li><span>Bio:</span> <%= user.bio %></li>
          <div class="updateDeleteContainer">
            <a href="/<%= user.id %>/update"><button>Update</button></a>
            <form
              action="/<%= user.id %>/delete"
              method="POST"
              style="display: inline"
            >
              <button
                type="submit"
                onclick="return confirm('Are you sure you want to delete this user?');"
              >
                Delete
              </button>
            </form>
          </div>
        </ul>
        <% }); %> <% } %>
      </div>
      <% if (locals.users) {%> 
      <div class="userListContainer">
      <% users.forEach(user => { %>
        <ul>
          <h3><span>USER-ID:</span> <%= user.id %></h3>
          <li><span>Name:</span> <%= user.firstName %> <%= user.lastName %></li>
          <li><span>Email:</span> <%= user.email %></li>
          <li><span>Age:</span> <%= user.age %></li>
          <li><span>Bio:</span> <%= user.bio %></li>
          <div class="updateDeleteContainer">
            <a href="/<%= user.id %>/update"><button>Update</button></a>
            <form
              action="/<%= user.id %>/delete"
              method="POST"
              style="display: inline"
            >
              <button
                type="submit"
                onclick="return confirm('Are you sure you want to delete this user?');"
              >
                Delete
              </button>
            </form>
          </div>
        </ul>
        <% }); %> <% } %>
      </div>
      <div class="createUserLink"><a href="/create">Create a user</a></div>
    </main>
  </body>
</html>
